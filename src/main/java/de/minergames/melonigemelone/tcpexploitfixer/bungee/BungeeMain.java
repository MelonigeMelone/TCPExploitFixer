package de.minergames.melonigemelone.tcpexploitfixer.bungee;

import de.minergames.melonigemelone.tcpexploitfixer.bungee.listener.PlayerLoginListener;
import de.minergames.melonigemelone.tcpexploitfixer.bungee.mysqlconfig.BungeeMySQLConfigHandler;
import de.minergames.melonigemelone.tcpexploitfixer.repository.DataConnection;
import de.minergames.melonigemelone.tcpexploitfixer.repository.DataConnectionImpl;
import net.md_5.bungee.api.ProxyServer;
import net.md_5.bungee.api.plugin.Plugin;
import net.md_5.bungee.api.plugin.PluginManager;

public class BungeeMain extends Plugin {

    public static BungeeMain instance;

    public static BungeeMySQLConfigHandler bungeeMySQLConfigHandler;

    public static DataConnection dataConnection;

    public PluginManager pluginManager = ProxyServer.getInstance().getPluginManager();

    @Override
    public void onEnable() {
        instance = this;

        bungeeMySQLConfigHandler = new BungeeMySQLConfigHandler();
        dataConnection = new DataConnectionImpl();
        pluginManager.registerListener(this, new PlayerLoginListener());

        dataConnection.resetTables();
    }

    @Override
    public void onDisable() {

    }

    public static BungeeMain getInstance() {
        return instance;
    }
}
